<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <extension-point id="CrystalAnalysis" name="Crystal Analysis" schema="schema/CrystalAnalysis.exsd"/>
   <extension-point id="CrystalAnnotation" name="Crystal Annotation" schema="schema/CrystalAnnotation.exsd"/>
	<extension
         point="org.eclipse.ui.views">
      <category
            name="Crystal"
            id="edu.cmu.cs.crystal.CrystalViews">
      </category>
      <view
            allowMultiple="false"
            category="edu.cmu.cs.crystal.CrystalViews"
            class="edu.cmu.cs.crystal.internal.UserConsoleView"
            icon="icons/sample.gif"
            id="edu.cmu.cs.crystal.internal.UserConsoleView"
            name="User Console">
      </view>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.eclipse.ui.resourcePerspective">
         <view
               ratio="0.5"
               relative="org.eclipse.ui.views.TaskList"
               relationship="right"
               id="edu.cmu.cs.crystal.internal.UserConsoleView">
         </view>
      </perspectiveExtension>
   </extension>
 <extension
       point="org.eclipse.ui.popupMenus">
    <objectContribution
          id="CrystalPlugin.analyzeCompUnit"
          objectClass="org.eclipse.jdt.core.ICompilationUnit">
       <menu
             id="Crystal.menu1"
             label="&amp;Crystal"
             path="additions">
          <separator
                name="group1">
          </separator>
       </menu>
       <action
             class="edu.cmu.cs.crystal.internal.CrystalFileAction"
             enablesFor="*"
             icon="icons/sample.gif"
             id="Crystal.newAction"
             label="&amp;Run Analyses"
             menubarPath="Crystal.menu1/group1"
             tooltip="Runs Crystal on this compilation unit">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="CrystalPlugin.analyzePackage"
          objectClass="org.eclipse.jdt.core.IPackageFragment">
       <menu
             id="CrystalPlugin.packageMenu"
             label="&amp;Crystal"
             path="additions">
          <separator
                name="CrystalPlugin.packageSeparator">
          </separator>
       </menu>
       <action
             class="edu.cmu.cs.crystal.internal.CrystalFileAction"
             enablesFor="*"
             icon="icons/sample.gif"
             id="CrystalPlugin.analyzePackageAction"
             label="&amp;Run Analyses"
             menubarPath="CrystalPlugin.packageMenu/CrystalPlugin.packageSeparator"
             tooltip="Runs Crystal on all compilation units in this folder">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="CrystalPlugin.analyzePackageRoot"
          objectClass="org.eclipse.jdt.core.IPackageFragmentRoot">
       <menu
             id="CrystalPlugin.packageRootMenu"
             label="&amp;Crystal">
          <separator
                name="CrystalPlugin.packageRootSeparator">
          </separator>
       </menu>
       <action
             class="edu.cmu.cs.crystal.internal.CrystalFileAction"
             enablesFor="*"
             icon="icons/sample.gif"
             id="CrystalPlugin.analyzePackageRootAction"
             label="&amp;Run Analyses"
             menubarPath="CrystalPlugin.packageRootMenu/CrystalPlugin.packageRootSeparator"
             tooltip="Runs Crystal on all compilation units in this folder">
       </action>
    </objectContribution>
    <objectContribution
          adaptable="false"
          id="CrystalPlugin.analyzeProject"
          objectClass="org.eclipse.jdt.core.IJavaProject">
       <menu
             id="CrystalPlugin.projectMenu"
             label="&amp;Crystal">
          <separator
                name="CrystalPlugin.projectSeparator">
          </separator>
       </menu>
       <action
             class="edu.cmu.cs.crystal.internal.CrystalFileAction"
             enablesFor="*"
             icon="icons/sample.gif"
             id="CrystalPlugin.analyzeProjectAction"
             label="&amp;Run Analyses"
             menubarPath="CrystalPlugin.projectMenu/CrystalPlugin.projectSeparator"
             tooltip="Runs Crystal on all compilation units in this project">
       </action>
    </objectContribution>
 </extension>
 <extension
       point="org.eclipse.ui.actionSets">
    <actionSet
          id="edu.cmu.cs.crystal.CrystalActions"
          label="Crystal Actions"
          visible="true">
       <menu
             id="edu.cmu.cs.crystal.crystalMenu"
             label="&amp;Crystal">
          <separator
                name="edu.cmu.cs.crystal.crystalGroup">
          </separator>
       </menu>
       <action
             class="edu.cmu.cs.crystal.internal.CrystalUIAction"
             icon="icons/sample.gif"
             id="edu.cmu.cs.crystal.internal.CrystalUIAction"
             label="&amp;Run Analyses"
             menubarPath="edu.cmu.cs.crystal.crystalMenu/edu.cmu.cs.crystal.crystalGroup"
             toolbarPath="edu.cmu.cs.crystal.crystalGroup"
             tooltip="Runs the registered Crystal analyses.">
       </action>
       <action
             class="edu.cmu.cs.crystal.internal.DisplayCrystalInfo"
             id="edu.cmu.cs.crystal.internal.DisplayCrystalInfo"
             label="&amp;Display analyses"
             menubarPath="edu.cmu.cs.crystal.crystalMenu/edu.cmu.cs.crystal.crystalGroup"
             tooltip="Displays the registered Crystal analyses">
       </action>
    </actionSet>
 </extension>
 <extension
       id="edu.cmu.cs.crystal.marker.default"
       name="Default Crystal analysis marker"
       point="org.eclipse.core.resources.markers">
    <super
          type="org.eclipse.core.resources.problemmarker">
    </super>
    <persistent
          value="true">
    </persistent>
    <attribute
          name="analysis">
    </attribute>
    <attribute
          name="message">
    </attribute>
    <attribute
          name="lineNumber">
    </attribute>
    <attribute
          name="severity">
    </attribute>
    <attribute
          name="priority">
    </attribute>
    <attribute
          name="charStart">
    </attribute>
    <attribute
          name="charEnd">
    </attribute>
 </extension>
   
</plugin>
